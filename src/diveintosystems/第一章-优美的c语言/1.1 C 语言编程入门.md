让我们首先看一个“hello world”程序，其中包含从数学库调用函数的示例。在表1 中我们可以对比该程序由C语言和python分别的实现。 C语言版本放在了hello.c 的文件中(.c 是 C 源代码文件的后缀约定)，而python版本放在了hello.py文件中。

 Python 和 C 语言小程序的语法比较
```python
'''
    The Hello World Program in Python
'''

# Python math library
from math import *


# main function definition:
def main():
    # statements on their own line
    print("Hello World")
    print("sqrt(4) is %f" % (sqrt(4)))

# call the main function:
main()
```

```c
/*
    The Hello World Program in C
 */

/* C math and I/O libraries */
#include <math.h>
#include <stdio.h>

/* main function definition: */
int main(void) {
    // statements end in a semicolon (;)
    printf("Hello World\n");
    printf("sqrt(4) is %f\n", sqrt(4));

    return 0;  // main returns value 0
}
```
这个示例程序的两个版本有相似的结构和语言结构，虽然语法上不尽相同。表现在以下几个方面：
**注释：**
+ 在Python中，多行注释以`'''`开头和结尾，单行注释以`#`开头。
+ 在C语言中，多行注释以`/*`开头，以 `*/`结尾，单行注释以 `//` 开头。

**导入代码库：**
+ 在 Python 中，使用 import 来包含（导入）库。
+ 在 C 语言中，使用 `#include` 包含（导入）库。所有`#include `语句都出现在程序顶部、位于函数体之外。

**代码块：**
+ 在Python中，缩进表示一个代码块。
+ 在C语言中，代码块（例如函数、循环和条件体）以 `{` 开头，以`}`结尾。

**main函数:**
+ 在Python中，`def main()：`定义`main`函数。
+ 在C语言中，`int main(void){ }`定义了`main`函数。`main`函数返回一个`int`类型的值，这是C语言中用于指定有符号整数类型的名称（有符号整数是 -3、0、1234 等值）。`main`函数返回`int`值0表示运行完成且没有错误。`void`表示它不希望接收参数。后续部分将展示 `main`如何使用参数来接收命令行参数

**语句：**
+ 在 Python 中，每个语句都位于单独的行上。
+ 在 C 语言中，每个语句都以分号`;`结尾。在 C语言中，语句必须位于某个函数的主体内（在本示例中位于`main`中）。

**输出：**
+   在Python中，`print`函数打印格式化字符串。格式化字符串中的`%`占位符所表示的值位于以逗号分隔的值列表中(例如，在打印输出时`sqrt(4)` 的值会替代格式化字符串中的 `%f`占位符)。
+ 在 C 语言中，`printf`函数打印格式化字符串。格式字符串中占位符的值是用逗号分隔的额外参数((例如，在打印输出时`sqrt(4)` 的值会替代格式化字符串中的 `%f`占位符)

这个程序的 C 语言版本和 Python 版本有一些重要的区别需要注意：
**缩进**：在 C 语言中，缩进没有意义，但根据包含块的嵌套级别来缩进语句是一种很好的编程风格。
**main 函数：**
+ C程序必须有一个名为 `main `的函数，并且其返回类型必须为 int。这意味着`main`函数返回了一个有符号的整数类型值。 Python 程序不需要将其主函数命名为 `main`，但它们通常按照约定命名。
+ C语言的`main`函数有一个显式的`return`语句来返回一个int值(按照惯例，如果`main`函数成功执行且没有错误，应该返回 0)。
+ Python 程序需要显式调用`main`函数，以便在程序执行时运行它。在C程序中，它的`main`函数在C程序执行时自动被调用。

## 1.1.1 编译和运行 C 程序
Python是一种解释性编程语言，这意味着Python程序是由另一个程序即Python解释器运行的：Python解释器的作用就像一个运行Python程序的虚拟机。要运行 Python 程序，程序源代码 (hello.py) 将作为运行该程序的 Python 解释器程序的输入。例如：
```bash
$ python hello.py
```
Python解释器是可以直接在底层系统上运行的一种程序（这种形式称为二进制可执行文件），并将其运行的Python程序作为输入(图1)。
![](attach/Pasted%20image%2020240326161900.png)
图1.Python程序由Python解释器直接执行，是运行在底层系统（操作系统和硬件）上的二进制可执行程序

要运行C程序，首先必须将其翻译成计算机系统可以直接执行的形式。C编译器就是用来将C源代码翻译成计算机硬件可以直接执行的二进制可执行形式的程序。二进制可执行文件由一系列 0 和 1 组成，采用计算机可以运行的明确定义的格式。
例如，要在 Unix 系统上运行 C 程序 hello.c，C代码必须首先由 C编译器（例如 GNU C 编译器 GCC)编译，生成二进制可执行文件(默认名称为 a.out)。然后可以直接在系统上运行该程序的二进制可执行版本(图2)。
```bash
$ gcc hello.c
$ ./a.out
```
(请注意，某些 C 编译器可能需要明确告知要链接到数学库：-lm):
```bash
$ gcc hello.c -lm
```
![](attach/Pasted%20image%2020240326162852.png)
图2.C 编译器 (gcc) 将 C 源代码构建为二进制可执行文件 (a.out)。底层系统（操作系统和硬件）直接执行a.out文件来运行程序。

#### 详细步骤
一般来说，以下顺序描述了在 Unix 系统上编辑、编译和运行 C 程序的必要步骤：
1. 使用文本编辑器（例如 vim），编写 C 源代码程序并将其保存在文件中（例如 hello.c）：
```bash
$ vim hello.c
```
2. 将源代码编译为可执行形式，然后运行它。使用 gcc 编译的最基本语法:
```bash
$ gcc <input_source_file>
```
如果编译没有产生错误，编译器将创建一个名为 a.out 的二进制可执行文件。编译器还允许您使用 -o 来指定要生成的二进制可执行文件的名称：
```bash
$ gcc -o <output_executable_file> <input_source_file>
```
例如，下面的命令指示 gcc 将 hello.c 编译为名为 hello 的可执行文件：
```bash
$ gcc -o hello hello.c
```
我们可以使用 ./hello 调用可执行程序
```bash
$ ./hello
```
对 C 源代码（hello.c 文件）所做的任何更改都必须使用 gcc 重新编译以生成新版本的 hello。如果编译器在编译过程中检测到任何错误，则不会创建/重新创建 ./hello 文件(但请注意，先前成功编译的旧版本文件仍然存在)。
通常，在使用 gcc 编译时，您想要包含多个命令行选项。例如，开启更多编译器警告并构建带有额外调试信息的二进制可执行文件的选项：
```bash
$ gcc -Wall -g -o hello hello.c
```
由于 gcc 命令行可能很长，因此经常使用 `make`程序来简化编译 C 程序和清理 gcc 创建的文件。[使用 `make`和编写 Makefile](https://www.cs.swarthmore.edu/~newhall/unixhelp/howto_makefiles.html)是你在积累 C 编程经验时需要培养的重要技能。
我们将在第 2 章末尾更详细地介绍 C 库代码的编译和链接。

## 1.1.2 C 变量和 C 数字类型

